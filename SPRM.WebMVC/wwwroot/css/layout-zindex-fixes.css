/* Z-index và layout fixes cho header, sidebar và footer */

/* ===== Z-INDEX HIERARCHY ===== */
/* Đảm bảo thứ tự hiển thị chính xác */

/* Header luôn hiển thị trên cùng */
.main-header {
    z-index: 1050 !important;
    position: fixed !important;
    width: 100% !important;
    top: 0 !important;
    left: 0 !important;
}

/* Sidebar luôn hiển thị dưới header nhưng trên nội dung */
.sidebar {
    z-index: 1040 !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    /* Thêm padding-top để tránh đè lên header */
    padding-top: 60px !important; /* Giảm xuống 60px theo thiết kế mới */
    height: 100vh !important;
    max-height: 100vh !important;
    overflow-y: auto !important;
}

/* Overlay cho sidebar mobile */
.sidebar-overlay {
    z-index: 1039 !important;
}

/* Main content luôn ở dưới cùng */
.main-content {
    z-index: 1 !important;
    position: relative !important;
}

/* Footer không bị đè */
footer {
    z-index: 10 !important;
    position: relative !important;
}

/* ===== LAYOUT ADJUSTMENTS ===== */

/* Điều chỉnh lại sidebar khi có header */
.sidebar {
    height: calc(100vh) !important;
    top: 0 !important;
}

/* Đảm bảo main content không bị đè lên */
.main-content {
    padding-top: 90px !important; /* Điều chỉnh chiều cao theo header */
}

/* Đảm bảo footer không bị đè lên bởi sidebar */
footer {
    width: 100% !important;
    margin-left: 0 !important;
}

/* Điều chỉnh footer với sidebar */
body.has-sidebar footer .container {
    width: 100% !important;
    max-width: 100% !important;
    padding-left: 1.5rem !important;
    padding-right: 1.5rem !important;
}

@media (min-width: 992px) {
    /* Desktop: Điều chỉnh không gian cho footer khi có sidebar */
    body.has-sidebar footer {
        padding-left: 280px !important;
    }

    body.has-sidebar.sidebar-collapsed footer {
        padding-left: 80px !important;
    }
    
    /* Đảm bảo header đủ không gian */
    .main-header .container {
        max-width: 100% !important;
    }
    
    /* Kiểm soát header container khi có sidebar */
    body.has-sidebar .main-header .container {
        padding-left: 300px !important; /* 280px + 20px */
        transition: padding-left 0.3s ease !important;
    }
    
    body.has-sidebar.sidebar-collapsed .main-header .container {
        padding-left: 100px !important; /* 80px + 20px */
    }
}

/* Mobile: Điều chỉnh vị trí khi responsive */
@media (max-width: 991.98px) {
    .sidebar {
        padding-top: 65px !important; /* Header thấp hơn trên mobile */
    }
    
    body.has-sidebar footer {
        padding-left: 0 !important;
    }
    
    body.has-sidebar .main-header .container {
        padding-left: 1rem !important;
    }
}

/* Đảm bảo sidebar có chiều cao đúng và có scrollbar nếu cần */
.sidebar-content {
    max-height: calc(100vh - 140px) !important; /* Trừ đi chiều cao header và sidebar header */
    overflow-y: auto !important;
}
